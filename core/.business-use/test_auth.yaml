flow: authentication
nodes:
  - id: login_attempt
    type: trigger
    description: User login attempt
    dep_ids: []
    filter:
      engine: python
      script: "data.get('action') == 'login'"

  - id: validate_credentials
    type: hook
    description: Validate user credentials
    dep_ids:
      - login_attempt
    validator:
      engine: python
      script: "data.get('username') and data.get('password')"
    conditions:
      - timeout_ms: 3000

  - id: create_session
    type: hook
    description: Create user session
    dep_ids:
      - validate_credentials
